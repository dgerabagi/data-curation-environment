# Artifact A65: DCE - Universal Task Checklist
# Date Created: C165
# Author: AI Model & Curator

- **Key/Value for A0:**
- **Description:** A universal checklist for organizing tasks based on the files involved and the estimated complexity in development cycles.
- **Tags:** process, tracking, tasks, checklist, development

## 1. Purpose

This artifact provides a structured, universal format for tracking development tasks, feedback, and bugs. Unlike cycle-specific trackers, this checklist organizes work by the group of files involved in a given task. It also introduces a simple complexity metric based on the total token count of the affected files and an estimation of whether the task will require more than one development cycle to complete.

This file-centric approach helps in planning and prioritizing work, especially in an AI-assisted development workflow where context size (token count) is a primary constraint.

## 2. How to Use

-   **Group by File Packages:** Create a new `##` section for each logical task or feature. List all the files that are expected to be modified for this task.
-   **Estimate Complexity:**
    -   Calculate the **Total Tokens** for all files in the package. This gives a quantitative measure of the context size.
    -   Estimate if the task is likely to take **More than one cycle?**. This is a qualitative judgment based on the complexity of the changes required.
-   **List Action Items:** Under each file package, create a checklist of specific actions, bugs to fix, or features to implement.

---

## Task List

## Package: PCPP - No Workspace View
- **Files Involved:**
    - `src/backend/services/history.service.ts`
    - `src/client/views/parallel-copilot.view/view.tsx`
- **Total Tokens:** ~10,500
- **More than one cycle?** No

- [ ] **Task:** Modify `history.service.ts` to detect when no workspace folder is open.
- [ ] **Task:** In the absence of a workspace, return a special state (e.g., `cycleId: -1`).
- [ ] **Task:** Update `view.tsx` to conditionally render a "No Folder Opened" message and an "Open Folder" button when it receives the special state.
- [ ] **Task:** Wire the button to the `workbench.action.files.openFolder` command.

## Package: Prompt Generation
- **Files Involved:**
    - `src/backend/services/prompt.service.ts`
- **Total Tokens:** ~4,000
- **More than one cycle?** No

- [ ] **Bug Fix:** The `<M5. organized artifacts list>` section should be populated from the user's workspace `A0*.md` file, not the extension's internal one.
- [ ] **Bug Fix:** When generating a prompt for a past cycle (e.g., Cycle 3 of 5), do not include future cycles (4 and 5) in the `<M6. Cycles>` block.
- [ ] **Feature:** Always include the `<Cycle 0>` content (templates) in every generated `prompt.md` to serve as a persistent "Template Archive".

## Package: File Tree Interactions
- **Files Involved:**
    - `src/client/components/tree-view/TreeView.tsx`
    - `src/backend/services/file-tree.service.ts`
- **Total Tokens:** ~8,000
- **More than one cycle?** No

- [ ] **Bug Fix:** When multiple files are selected in the main tree view, pressing the `Delete` key must delete all selected files, not just the focused one.
- [ ] **Task:** Add `package-lock.json` to the list of non-selectable files in `file-tree.service.ts`.