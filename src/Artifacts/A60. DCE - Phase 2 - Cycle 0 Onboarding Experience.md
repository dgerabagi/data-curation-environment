# Artifact A60: DCE - Phase 2 - Cycle 0 Onboarding Experience
# Date Created: C139
# Author: AI Model & Curator
# Updated on: C152 (Overhaul strategy to use DCE artifacts as a complete example)

- **Key/Value for A0:**
- **Description:** Documents the plan for a special "Cycle 0" mode to guide new users in setting up their project by generating an initial set of planning documents.
- **Tags:** feature plan, phase 2, onboarding, first-run, project setup, meta-interpretability

## 1. Vision & Goal

The Parallel Co-Pilot Panel (PCPP) is a powerful tool, but its effectiveness relies on a structured set of planning and documentation artifacts. For a new user, bootstrapping this structure is a major hurdle.

The goal of the "Cycle 0" onboarding experience is to automate this bootstrapping process. The new, more effective strategy is to provide the AI with a complete, high-quality example of a finished project's documentation (our own DCE artifacts). By capturing the user's high-level project scope and providing our own artifacts as a model, the extension will generate a prompt that instructs an AI to create a starter pack of essential **planning and documentation artifacts** for the user's new project. This introduces the user to the artifact-driven workflow and ensures the output is immediately parsable by the PCPP.

## 2. User Flow

1.  **Detection:** The extension detects a "fresh workspace" by confirming the absence of `src/Artifacts/A0. DCE Master Artifact List.md`.
2.  **Cycle 0 UI:** The PCPP loads into a special "Cycle 0" view. It presents the user with an introduction and a single large text area for their "Project Scope".
3.  **User Input:** The user describes their project's vision and goals.
4.  **Generate Prompt & Artifacts:** The user clicks "Generate Initial Artifacts Prompt".
5.  **Backend Process:**
    *   The backend `PromptService` constructs a unique `prompt.md` file. The prompt's static context will now contain the **entirety of the DCE's own `src/Artifacts` directory** as a working example, plus a few curated templates (`T_Roadmap`, `T_Competitive_Analysis`).
    *   The prompt instructs the AI to emulate the provided example to create initial planning documents based on the user's scope.
    *   It creates the `src/Artifacts` directory and a new `A0. DCE Master Artifact List.md`.
    *   It saves the user's "Project Scope" to a persistent field in `dce_history.json`.
6.  **Transition to Cycle 1:** The frontend reloads its state. Since `A0` now exists, the `HistoryService` returns Cycle 1, and the UI transitions to the main PCPP interface.
7.  **User Action:** The user takes the generated `prompt.md` and uses it with their preferred LLM.
8.  **First Iteration:** The user pastes the AI's response (which should contain the new, correctly formatted documentation artifacts) back into the PCPP's "Cycle 1" tab, and the standard iterative workflow begins.
9.  **Return to Cycle 0:** The user can navigate back to Cycle 0 to view and edit their master project scope, which will then be used in subsequent `prompt.md` generations.

## 3. Technical Implementation

-   **Detection (`history.service.ts`):** Unchanged. `getLatestCycle` returns a `cycleId: 0` object if `A0` is missing.
-   **Frontend (`OnboardingView.tsx`):** The "Generate" button will now send `RequestCreateCycle0Prompt` with the project scope payload. The component will display the persisted project scope if it exists.
-   **Backend (`prompt.service.ts`):** `generateCycle0Prompt` will be heavily refactored. It will read all files from the extension's packaged `src/Artifacts` directory to build the static context, rather than a few hardcoded templates.
-   **Backend (`history.service.ts`):** The `PcppHistoryFile` interface will be updated to include `projectScope?: string`. The service will be updated to save and retrieve this value. The `generatePromptFile` method will be updated to read from this persisted scope for `<M4>`.