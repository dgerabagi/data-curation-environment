# Artifact A60: DCE - Phase 2 - Cycle 0 Onboarding Experience
# Date Created: C139
# Author: AI Model & Curator

- **Key/Value for A0:**
- **Description:** Documents the plan for a special "Cycle 0" mode to guide new users in setting up their project by generating an initial set of planning documents.
- **Tags:** feature plan, phase 2, onboarding, first-run, project setup

## 1. Vision & Goal

The Parallel Co-Pilot Panel (PCPP) is a powerful tool for iterative, AI-assisted development, but its effectiveness relies on a structured set of planning and documentation artifacts. For a new user starting a project from scratch, the initial setup can be a significant hurdle.

The goal of the "Cycle 0" onboarding experience is to guide the user through this initial setup. By capturing their high-level project scope, the extension will leverage a set of best-practice document templates to generate a prompt that instructs an AI to create a starter pack of planning artifacts for the user's new project. This automates the project bootstrapping process and introduces the user to the artifact-driven workflow.

## 2. User Flow

1.  **Detection:** The extension detects a "fresh workspace" by confirming the absence of both `dce_history.json` and `src/Artifacts/A0. DCE Master Artifact List.md`.
2.  **Cycle 0 UI:** The PCPP loads into a special "Cycle 0" view. This view is simplified, removing the cycle navigator and response tabs. It presents the user with an introduction and a single large text area.
3.  **User Input:** The user is prompted to describe their project's vision and goals in the "Project Scope" text area.
4.  **Generate Prompt:** The user clicks a button, e.g., "Generate Initial Artifacts Prompt".
5.  **Prompt Amalgamation:** The backend `PromptService` constructs a unique `prompt.md` file:
    *   The user's input is placed into the `<M4. current project scope>` section.
    *   The `<M6. Cycles>` section contains a single `<Cycle 0>` block.
    *   This block is pre-filled with **Static Context**: the content of several generic "template" artifacts (`A61`-`A67`).
    *   The instructions within the `<Cycle 0>` block direct the AI to act as a project planner: review the user's scope, study the provided examples, and generate a set of initial planning artifacts for the user's project, starting with a Master Artifact List (`A0`).
6.  **User Action:** The user takes the generated `prompt.md` and uses it with their preferred LLM.
7.  **First Iteration:** The user pastes the AI's response (which should contain the new planning artifacts) back into the PCPP, which will now have progressed to "Cycle 1", and the standard iterative workflow begins.

## 3. Technical Implementation

-   **Detection (`history.service.ts`):** The `getLatestCycle` method will be enhanced. It will use a new `fileExists` method (to be added in `file-operation.service.ts`) to check for `A0`. If both history and A0 are missing, it will return a special `PcppCycle` object with `cycleId: 0`.
-   **Frontend (`view.tsx`, `OnboardingView.tsx`):**
    *   The main `view.tsx` will conditionally render a new `<OnboardingView />` component if the loaded cycle data has `cycleId === 0`.
    *   `OnboardingView.tsx` will be a new component containing the introductory text and the project scope `<textarea>`.
    *   The "Generate" button in this view will send a new IPC message, `RequestCreateCycle0Prompt`, with the project scope content.
-   **Backend (`prompt.service.ts`):**
    *   A new method, `generateCycle0Prompt`, will be created.
    *   It will read the content of artifacts `A61` through `A67` from the `src/Artifacts/` directory to use as the static context.
    *   It will assemble the final `prompt.md` string as described in the user flow.
-   **IPC (`channels.enum.ts`, `channels.type.ts`):**
    *   A new `ClientToServerChannel.RequestCreateCycle0Prompt` will be added. Payload: `{ projectScope: string }`.