# Artifact A60: DCE - Phase 2 - Cycle 0 Onboarding Experience
# Date Created: C139
# Author: AI Model & Curator
# Updated on: C154 (Revert to using Template artifacts as context)

- **Key/Value for A0:**
- **Description:** Documents the plan for a special "Cycle 0" mode to guide new users in setting up their project by generating an initial set of planning documents.
- **Tags:** feature plan, phase 2, onboarding, first-run, project setup

## 1. Vision & Goal

The Parallel Co-Pilot Panel (PCPP) is a powerful tool, but its effectiveness relies on a structured set of planning and documentation artifacts. For a new user, bootstrapping this structure is a major hurdle.

The goal of the "Cycle 0" onboarding experience is to automate this bootstrapping process. By capturing the user's high-level project scope and providing a curated set of best-practice **template artifacts** as a model, the extension will generate a prompt that instructs an AI to create a starter pack of essential **planning and documentation artifacts** for the user's new project. This introduces the user to the artifact-driven workflow and ensures the output is immediately parsable by the PCPP.

## 2. User Flow

1.  **Detection:** The extension detects a "fresh workspace" by confirming the absence of `src/Artifacts/A0. DCE Master Artifact List.md`.
2.  **Cycle 0 UI:** The PCPP loads into a special "Cycle 0" view. It presents the user with an introduction and a single large text area for their "Project Scope".
3.  **User Input:** The user describes their project's vision and goals.
4.  **Generate Prompt & Artifacts:** The user clicks "Generate Initial Artifacts Prompt".
5.  **Backend Process:**
    *   The backend `PromptService` constructs a unique `prompt.md` file. The prompt's static context will contain the content of all template artifacts (files prefixed with `T` in `src/Artifacts`).
    *   The prompt instructs the AI to use the provided templates as a guide to create initial planning documents based on the user's scope.
    *   It creates the `src/Artifacts` directory and a new `A0. DCE Master Artifact List.md`.
    *   It saves the user's "Project Scope" to a persistent field in `dce_history.json`.
6.  **Transition to Cycle 1:** The frontend reloads its state. Since `A0` now exists, the `HistoryService` returns Cycle 1, and the UI transitions to the main PCPP interface.
7.  **User Action:** The user takes the generated `prompt.md` and uses it with their preferred LLM.
8.  **First Iteration:** The user pastes the AI's response (which should contain the new, correctly formatted documentation artifacts) back into the PCPP's "Cycle 1" tab, and the standard iterative workflow begins.
9.  **Return to Cycle 0:** The user can navigate back to Cycle 0 to view and edit their master project scope, which will then be used in subsequent `prompt.md` generations.

## 3. Technical Implementation

-   **Detection (`history.service.ts`):** Unchanged. `getLatestCycle` returns a `cycleId: 0` object if `A0` is missing.
-   **Frontend (`OnboardingView.tsx`):** The "Generate" button will send `RequestCreateCycle0Prompt` with the project scope payload. A new "Continue to Cycle 1" button will appear after generation is complete to allow explicit navigation.
-   **Backend (`prompt.service.ts`):** `generateCycle0Prompt` will be refactored. It will read only files from the extension's packaged `src/Artifacts` directory that begin with `T` to build the static context.
-   **Backend (`history.service.ts`):** The `PcppHistoryFile` interface includes `projectScope?: string`. The service saves and retrieves this value. The `generatePromptFile` method reads from this persisted scope for `<M4>`.