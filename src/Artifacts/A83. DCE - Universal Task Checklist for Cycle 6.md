# Artifact A83: DCE - Universal Task Checklist for Cycle 6
# Date Created: C6
# Author: AI Model & Curator
# Updated on: C9 (Finalize T-3 and add T-4)

- **Key/Value for A0:**
- **Description:** A structured checklist for organizing the development tasks, feedback, and bugs from the "laundry list" provided in Cycle 6.
- **Tags:** process, checklist, task management, planning, workflow

## 1. Purpose

This artifact provides a structured, universal format for tracking the development tasks derived from the "laundry list" of feedback in Cycle 6. It organizes work by logical feature areas and the group of files involved.

---

## Task List

## T-1: Parsing & Interaction Schema
- **Files Involved:**
    - `src/Artifacts/A52.2 DCE - Interaction Schema Source.md`
    - `src/Artifacts/A81. DCE - Curator Activity Plan.md`
    - `src/client/utils/response-parser.ts`
    - `src/common/types/pcpp.types.ts`
    - `src/client/views/parallel-copilot.view/components/ParsedView.tsx`
- **Total Tokens:** ~6,000
- **More than one cycle?** No
- **Status:** Completed in C7

- [X] **Task (T-ID: 1.1):** Create `A81` to plan the new `<curator_activity>` section.
- [X] **Task (T-ID: 1.2):** Update `A52.2` to be more explicit about the `</file_artifact>` closing tag and to include the new `curator_activity` section.
- [X] **Task (T-ID: 1.3):** Update the parser to extract the `<curator_activity>` section and to de-duplicate the `files` array, keeping the last occurrence of a path.
- [X] **Task (T-ID: 1.4):** Update the UI to render the new `curatorActivity` content in its own collapsible section.

### Verification Steps
1.  Provide a response with duplicate file paths and a `<curator_activity>` section.
2.  Click "Parse All".
3.  **Expected:** The file counter on the response tab should reflect the unique file count. The "Curator Activity" section should appear with the correct content.

## T-2: Data Integrity & Core UX
- **Files Involved:**
    - `src/Artifacts/A79. DCE - Autosave and Navigation Locking Plan.md`
    - `src/client/views/parallel-copilot.view/view.tsx`
    - `src/client/views/parallel-copilot.view/components/CycleNavigator.tsx`
    - `src/backend/services/history.service.ts`
    - `src/common/ipc/channels.enum.ts`
    - `src/common/ipc/channels.type.ts`
- **Total Tokens:** ~12,000
- **More than one cycle?** No
- **Status:** Completed in C8

- [X] **Task (T-ID: 2.1):** Implement the autosave locking feature from `A79`. Add `saveStatus` state to `view.tsx`.
- [X] **Task (T-ID: 2.2):** Add `NotifySaveComplete` IPC channel and have `history.service.ts` send it after a successful write.
- [X] **Task (T-ID: 2.3):** Disable navigation buttons in `CycleNavigator.tsx` when `saveStatus` is not `'saved'`.
- [X] **Task (T-ID: 2.4):** Implement auto-tabbing on paste in `view.tsx`.
- [X] **Task (T-ID: 2.5):** Add `tsconfig.tsbuildinfo` and `dist` to `NON_SELECTABLE_PATTERNS` in `file-tree.service.ts`.

### Verification Steps
1.  Type text into the Cycle Context.
2.  **Expected:** The save status indicator should show "unsaved" and the cycle navigation buttons should be disabled.
3.  Wait for the autosave to complete.
4.  **Expected:** The status should become "saved" and the buttons should be re-enabled.
5.  Paste content into `Resp 1` textarea.
6.  **Expected:** The UI should automatically switch focus to the `Resp 2` tab.

## T-3: Advanced UX Features
- **Files Involved:**
    - `src/client/views/parallel-copilot.view/components/ParsedView.tsx`
    - `src/client/views/parallel-copilot.view/view.scss`
    - `src/common/utils/formatting.ts`
- **Total Tokens:** ~5,000
- **More than one cycle?** No
- **Status:** Completed in C9

- [X] **Task (T-ID: 3.1):** Implement a color gradient on "Associated Files" list items based on similarity score.
- [X] **Task (T-ID: 3.2):** Display the similarity score as a percentage and truncate long file paths.
- [X] **Task (T-ID: 3.3):** Add a right-click context menu to "Associated Files" list items to copy the relative path.

### Verification Steps
1.  Parse a response with varying similarity scores and a very long file path.
2.  **Expected:** The file list items should have background colors ranging from green (high similarity) to red (low similarity). A percentage value (e.g., "98%") should be visible. The long file path should be truncated in the middle. Hovering over it shows the full path.
3.  Right-click a file in the list.
4.  **Expected:** A context menu should appear with a "Copy Relative Path" option. Clicking it should copy the path to the clipboard.

## T-4: Plan Next Development Phase
- **Files Involved:**
    - `src/Artifacts/A84. DCE - Universal Task Checklist for Cycle 10+.md`
- **Total Tokens:** ~1,500
- **More than one cycle?** Yes (Implementation is deferred)
- **Status:** In Progress

- [X] **Task (T-ID: 4.1):** Create `A84` to plan the next phase of development, focusing on high-priority features from the existing backlog to achieve feature parity with the native VS Code explorer.

### Verification Steps
1.  Check the master artifacts list.
2.  **Expected:** The new `A84` artifact should be present and contain the feature plans for the next cycle.