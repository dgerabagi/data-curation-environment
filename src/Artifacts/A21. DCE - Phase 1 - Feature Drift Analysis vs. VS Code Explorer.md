# Artifact A21: DCE - Phase 1 - Feature Drift Analysis vs. VS Code Explorer
# Date Created: C28
# Author: AI Model
# Updated on: C30 (Add notes on selection highlight bug and active file sync regression)

- **Key/Value for A0:**
- **Description:** A comparative analysis documenting the functional and behavioral differences between the DCE custom file view and the native VS Code Explorer to guide future development and feature parity.
- **Tags:** feature plan, analysis, drift, ux, vs code explorer, parity

## 1. Overview & Goal

The primary goal of the Data Curation Environment (DCE) is to enhance, not replace, the core developer workflow. To minimize friction and maximize adoption, its custom file view must achieve a high degree of feature parity with the native VS Code Explorer. This document analyzes the "drift," or the set of features present in the native Explorer that are currently missing from the DCE view. This analysis will serve as a backlog and prioritization guide for future development cycles.

## 2. Feature Comparison Matrix

| Feature Category            | Native VS Code Explorer         | DCE (as of C30)        | Status & Notes                                                                                                                                              |
| --------------------------- | ------------------------------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **File Display**            |                                 |                        |                                                                                                                                                             |
| Hierarchical Tree           | ✅                              | ✅                     | **Complete.** Core functionality is present.                                                                                                                |
| File/Folder Icons           | ✅                              | ✅                     | **Complete.** Icons match file types.                                                                                                                       |
| Active File Highlighting    | ✅                              | ❌ (Regression)        | **Bug.** View is no longer syncing with the active editor. This was previously working and needs to be fixed.                                                |
| Problems/Git Status         | ✅ (Colors, badges)             | ❌                     | **Missing.** No integration with Problems or Git status (e.g., file coloring for new/modified/untracked files). High-value feature for context awareness. Planned in A25. |
| **Selection**               |                                  |                        |                                                                                                                                                             |
| Single-Click (Files)        | ✅ Opens file                   | ✅ Opens & Selects file| **Complete.** Now aligns with native behavior.                                                                                                               |
| Single-Click (Folders)      | ✅ Expands/Collapses            | ✅ Expands/Collapses   | **Complete.** |
| Multi-Select (Ctrl)         | ✅                              | ✅                     | **Complete.** Critical feature for context menu actions is now implemented.                                                                                 |
| Multi-Select (Shift)        | ✅ (Selects rows)               | ✅ (Selects rows and text) | **Bug.** Shift-clicking correctly selects the range of files, but also incorrectly highlights the file name text. This needs to be disabled via CSS (`user-select: none`). |
| **Interaction**             |                                  |                        |                                                                                                                                                             |
| Drag and Drop               | ✅ (Move files/folders)         | ❌                     | **Missing.** This is a complex but high-value feature. Requires VS Code Drag and Drop API integration. Planned in A23.                                     |
| Right-Click Context Menu    | ✅ (Extensive options)          | ✅ (Basic options)     | **Partial.** DCE has basic operations (Rename, Delete, etc.). Missing advanced options like `Open in Integrated Terminal`, `Find in Folder...`, `Compare...`. |
| Keyboard Navigation         | ✅ (Arrows, Enter, Space)       | ❌                     | **Missing.** Users cannot navigate the tree or select/open items using the keyboard. Planned in A23.                                                        |
| Inline Rename               | ✅ (F2 or slow double-click)    | ✅                     | **Complete.** |
| **File Operations**         |                                  |                        |                                                                                                                                                             |
| New File / Folder           | ✅                              | ✅                     | **Complete.** |
| Delete (to Trash)           | ✅                              | ✅                     | **Complete.** |
| Cut / Copy / Paste          | ✅                              | ❌                     | **Missing.** Standard file system operations are not yet implemented.                                                                                       |
| **Search & Filter**         |                                  |                        |                                                                                                                                                             |
| Filter by Name              | ✅ (Start typing)               | ⏳ In Progress         | **In Progress (C30).** Search button and UI are being implemented. Planned in A22.                                                                          |

## 3. High-Priority Features for Future Cycles

Based on the analysis, the following features represent the most significant gaps in user experience and should be prioritized:

1.  **Git Status Integration:** Providing visual cues (colors, letters like 'U' or 'M') for the Git status of files is a massive quality-of-life improvement that provides essential context at a glance.
2.  **Drag and Drop:** The ability to move files and folders by dragging them is a core, intuitive part of any file explorer. While technically complex to implement in a webview, its absence is a major point of friction.
3.  **Keyboard Navigation:** Power users rely heavily on keyboard navigation (arrow keys to move, Enter to open/expand, Space to select). The lack of this makes the DCE feel incomplete.
4.  **Expanded Context Menu:** Adding more of the native right-click options, especially `Open in Integrated Terminal` and `Compare Selected`, would significantly reduce the need for users to switch back to the native Explorer.