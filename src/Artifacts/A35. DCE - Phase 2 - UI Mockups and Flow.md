# Artifact A35: DCE - Phase 2 - UI Mockups and Flow
# Date Created: C69
# Author: AI Model
# Updated on: C148 (Add response metadata and sort button)

## 1. Overview

This document describes the user interface (UI) and interaction flow for the Parallel Co-Pilot Panel. The design is centered around a two-stage workflow: **Input**, followed by a global **Parse** that transforms the entire panel into a **Review & Act** mode.

## 2. UI Mockup (Textual Description)

### 2.1. Main Header & Cycle Section
The main header contains global actions.

```
|-------------------------------------------------------------------------------------------------|
| [ Generate prompt.md ] [ Log State ] [ Parse All ] [ Sort by Tokens ] [ Resp: [ 4 ] ]            |
|-------------------------------------------------------------------------------------------------|
| [v] CYCLE & CONTEXT (C148: Review and Implement Feedback)                                       |
| |---------------------------------------------------------------------------------------------| |
| | Cycle: [ < ] [ C148 ] [ > ] [ + ] [ Title Input... ] [Delete] [Reset]                       | |
| | [ Cycle Context Text Area... ]                                                              | |
| | [ Ephemeral Context Text Area... ]                                                          | |
|-------------------------------------------------------------------------------------------------|
```
*   **`[ Sort by Tokens ]` (New):** A new button in the main header that, when clicked in parsed mode, re-orders the response tabs from highest total token count to lowest.

### 2.2. Response Tabs
The tabs now display metadata when in parsed mode.

```
|=================================================================================================|
| [ Resp 1 (5 files, 2.1K tk) ] [ Resp 2 (4 files, 1.8K tk) ] [ Resp 3 ] [ Resp 4 ]                |
|-------------------------------------------------------------------------------------------------|
```
*   **Tab Metadata (New):** When parsed, each tab will show the number of files detected in its response and the total token count of those files.

### 2.3. Parsed View (Non-Diff Mode)
(No changes from C134)

### 2.4. Diff View
(No changes from C133)

## 3. User Interaction Flow

1.  **Paste & Parse:** User pastes responses and clicks "Parse All". The tabs update to show metadata (e.g., "Resp 1 (5 files, 2.1K tk)").
2.  **Sort Responses:** The user notices "Resp 2" has a higher token count than "Resp 1". They click the **"Sort by Tokens"** button. The order of the tabs in the tab bar immediately changes to `[ Resp 2 ] [ Resp 1 ] [ Resp 4 ] [ Resp 3 ]` (based on their respective token counts). The user can now review the longest, likely most detailed, response first.
3.  **Select & Accept:** The rest of the workflow for selecting and accepting files remains the same.