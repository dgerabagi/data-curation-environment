# Artifact A35: DCE - Phase 2 - UI Mockups and Flow
# Date Created: C69
# Author: AI Model
# Updated on: C134 (Add "Select All" and "Log State" buttons)

## 1. Overview

This document describes the user interface (UI) and interaction flow for the Parallel Co-Pilot Panel. The design is centered around a two-stage workflow: **Input**, followed by a global **Parse** that transforms the entire panel into a **Review & Act** mode.

## 2. UI Mockup (Textual Description)

### 2.1. Main Header & Cycle Section
The main header contains global actions.

```
|-------------------------------------------------------------------------------------------------|
| [ Generate prompt.md ] [ Log State ] [ Parse All Responses ]      [ Number of Responses: [ 4 ] ] |
|-------------------------------------------------------------------------------------------------|
| [v] CYCLE & CONTEXT (C134: Review and Implement Feedback)                                       |
| |---------------------------------------------------------------------------------------------| |
| | Cycle: [ < ] [ C134 ] [ > ] [ + ] [ Title Input... ] [Delete] [Reset]                       | |
| | [ Cycle Context Text Area... ]                                                              | |
| | [ Ephemeral Context Text Area... ]                                                          | |
|-------------------------------------------------------------------------------------------------|
```
*   **`[ Log State ]` (New):** A new button next to "Generate prompt.md" to trigger the state logging feature.

### 2.2. Response Tabs
(No changes from C133)

### 2.3. Parsed View (Non-Diff Mode)

The parsed view uses a **resizable two-pane layout**. The left pane provides summary information and navigation. The right pane displays the code, now with its own header for accepting changes.

```
|-------------------------------------------------------------------------------------------------|
| [ Left Pane ]<--->[ Right Pane (Code Viewer) ]                                                 |
| |-------------||------------------------------------------------------------------------------| |
| | [v] ASSOCIATED FILES            | | [ Select This Response ] [ Select All Files ] [ Accept Selected ] | |
| | |-------------------------------| |------------------------------------------------------------------| |
| | | [ ] [✓] src/.../view.tsx      | | [ File: src/.../view.tsx ] [ Accept this file ]                  | |
| | | [ ] [✗] src/.../new-file.ts   | | +------------------------------------------------------------------+ | |
| |                                   | | | [ Read-only editor with line numbers and syntax highlighting ] | | |
| | [v] THOUGHTS / RESPONSE           | | | + Metadata: 1.2K tokens (Original: 1.1K, Sim: 95%)           | | |
| | | Rendered Markdown...            | | +------------------------------------------------------------------+ | |
| |                                   | |                                                                    | |
| | [v] COURSE OF ACTION              | |                                                                    | |
| | | Rendered Markdown...            | |                                                                    | |
+-------------------------------------------------------------------------------------------------+
```
*   **`[ Select All Files ]` (New):** A new button added to the header of the right pane. It will select (check) all files in the "Associated Files" list. It should toggle to "Deselect All" if all files are already selected.

### 2.4. Diff View
(No changes from C133)

## 3. User Interaction Flow

1.  **Paste & Parse:** User pastes responses and clicks "Parse All".
2.  **Select All:** The user is reviewing "Resp 1" and wants to accept all suggested files. They click the new **"Select All Files"** button. All checkboxes in the "Associated Files" list become checked.
3.  **Accept:** The user clicks **"Accept Selected Files"**. The extension writes all the files to the workspace.
4.  **Debug State:** The user notices something is wrong with the prompt generation. They click the **"Log State"** button. The extension's output channel displays a detailed log of the current cycle states and the generated `<M6. Cycles>` content, which they can then provide in their feedback.