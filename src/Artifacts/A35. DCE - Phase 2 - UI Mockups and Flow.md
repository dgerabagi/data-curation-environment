# Artifact A35: DCE - Phase 2 - UI Mockups and Flow
# Date Created: C69
# Author: AI Model

- **Key/Value for A0:**
- **Description:** Provides a detailed textual description and flow diagram for the user interface of the Parallel Co-Pilot Panel, including tab management and the "swap" interaction.
- **Tags:** feature plan, phase 2, ui, ux, mockup, workflow

## 1. Overview

This document describes the user interface (UI) and interaction flow for the Parallel Co-Pilot Panel. The design aims for simplicity and clarity, presenting a familiar tabbed-editor interface with powerful integrated controls.

## 2. UI Mockup (Textual Description)

The Parallel Co-Pilot Panel will be a new webview, likely occupying its own view container in the sidebar or secondary sidebar.

```
+-----------------------------------------------------------------+
| [Parallel Co-Pilot] [Settings Icon]                             |
|-----------------------------------------------------------------|
| Cycle: [ < ] [ C70 ] [ > ]                                      |
|-----------------------------------------------------------------|
| Number of Tabs: [Slider: 1 to 8]  (Current: 4)                  |
|=================================================================|
| [ Tab 1 (active) ] [ Tab 2 ] [ Tab 3 ] [ Tab 4 ] [ + ]           |
|-----------------------------------------------------------------|
|                                                                 |
|   [Swap with Source]                                            |
|                                                                 |
|   Source: src/services/user.service.ts                          |
|   ------------------------------------------------------------  |
|   |          | Original Source      | This Tab (Response 1) |  |
|   | Lines    | 150                  | 165                   |  |
|   | Tokens   | 2.1K                 | 2.4K                  |  |
|   |----------|----------------------|-----------------------|  |
|   | Similarity Score: 85%                                   |  |
|   ------------------------------------------------------------  |
|                                                                 |
|   [Text editor area where user pastes AI-generated code...]     |
|   |                                                         |   |
|   | export class UserService {                              |   |
|   |   // ... AI generated code ...                           |   |
|   | }                                                       |   |
|   |                                                         |   |
|                                                                 |
+-----------------------------------------------------------------+
```

### 2.1. UI Components Breakdown

1.  **Main Header:**
    *   **Title:** "Parallel Co-Pilot".
    *   **Settings Icon:** (Future) For configuring API keys, etc.

2.  **Tab Configuration Bar:**
    *   **Label:** "Number of Tabs:".
    *   **Slider/Input:** Allows the user to select how many tabs (1-8) are visible.

3.  **Tab Bar:**
    *   Standard tab interface. The active tab is highlighted.
    *   A `[+]` button could potentially be used to add more tabs up to the limit.

4.  **Tab Content Area:**
    *   **"Swap with Source" Button:** The primary action button for the tab. It should be clearly visible. Its text might change to "Swap Back to Original" after the first swap to provide better context.
    *   **Source File Display:** A read-only display of the source file path that this tab's content is intended to replace. This needs to be determined/set by the user.
    *   **Metadata Table:** A compact table showing a side-by-side comparison of Line Count and Token Count for the original file vs. the content in the tab.
    *   **Similarity Score:** A clear display of the calculated similarity percentage.
    *   **Text Editor:** A simple, multi-line text input area that takes up the majority of the panel space.

## 3. User Interaction Flow: The "Swap"

1.  **Initial State:** The user has a file open in the main VS Code editor, `src/services/user.service.ts`. They generate an alternative version of this file with an AI.
2.  **Paste:** The user navigates to the "Parallel Co-Pilot" panel, selects a tab, and pastes the AI-generated code into the text editor area. They also set `src/services/user.service.ts` as the "Source" for this tab.
3.  **First Swap (Test AI Code):**
    *   The user clicks the **[Swap with Source]** button in "Tab 1".
    *   **Action:** The extension backend reads the content of "Tab 1" and overwrites `src/services/user.service.ts` on the disk.
    *   **Action:** The extension backend reads the *original* content of `src/services/user.service.ts` and places it into the text editor of "Tab 1".
    *   **Result:** The main VS Code editor for `user.service.ts` instantly updates to show the AI code. The Problems panel updates, showing any new TS errors. "Tab 1" now contains the original, safe code.
4.  **Second Swap (Revert):**
    *   The user decides the AI code is faulty.
    *   They click the **[Swap with Source]** button in "Tab 1" again.
    *   **Action:** The extension backend reads the content of "Tab 1" (which is the original code) and overwrites `src/services/user.service.ts` on the disk.
    *   **Action:** The extension backend reads the content of `src/services/user.service.ts` (which is the AI code) and places it back into "Tab 1".
    *   **Result:** The project is restored to its exact previous state. The user can now modify the AI code in the tab and try again, or move to another tab to test a different AI response.