# Artifact A35: DCE - Phase 2 - UI Mockups and Flow
# Date Created: C69
# Author: AI Model
# Updated on: C75 (Reflect standalone panel layout)

- **Key/Value for A0:**
- **Description:** Provides a detailed textual description and flow diagram for the user interface of the Parallel Co-Pilot Panel, including tab management, the "swap" interaction, and UI for new features like annotation.
- **Tags:** feature plan, phase 2, ui, ux, mockup, workflow

## 1. Overview

This document describes the user interface (UI) and interaction flow for the Parallel Co-Pilot Panel. The design aims for simplicity and clarity, presenting a familiar tabbed-editor interface with powerful integrated controls for annotation, context management, and live testing. The entire UI is housed within its own dedicated view in the VS Code Activity Bar.

## 2. UI Mockup (Textual Description)

This mockup represents the view that appears when the user clicks the new Parallel Co-Pilot icon in the Activity Bar.

```
+----------------------------------------------------------------------+
| [Parallel Co-Pilot] [Settings Icon] [Other Toolbar Icons...]         |
|----------------------------------------------------------------------|
| Cycle: [ < ] [ C75 ] [ > ]                                           |
|----------------------------------------------------------------------|
| [Cycles Context (Tooltip: For temporary logs, etc.)]                 |
| +------------------------------------------------------------------+ |
| | Multi-line text area for temporary context...                    | |
| |                                                                  | |
| +------------------------------------------------------------------+ |
|----------------------------------------------------------------------|
| Number of Tabs: [Slider: 1 to 8]  (Current: 4)                       |
|======================================================================|
| [ Tab 1 (active) ] [ Tab 2 ] [ Tab 3 ] [ Tab 4 ] [ + ]                |
|----------------------------------------------------------------------|
| [ Tab Content Area - Stretches to fill remaining vertical space ]    |
| |                                                                  | |
| |  [Accept Response] [Swap with Source] [üëç] [üëé] [Add Comment]      | |
| |                                                                  | |
| |  Source: src/services/user.service.ts                            | |
| |  ----------------------------------------------------------------  | |
| |  |          | Original Source      | This Tab (Response 1)   |  | |
| |  | Lines    | 150                  | 165                     |  | |
| |  | Tokens   | 2.1K                 | 2.4K                    |  | |
| |  |----------|----------------------|-------------------------|  | |
| |  | Similarity Score: 85%                                     |  | |
| |  ----------------------------------------------------------------  | |
| |                                                                  | |
| |  [Text editor area where user pastes AI-generated code...]       | |
| |  |                                                           |  | |
| |  | export class UserService {                                |  | |
| |  |   // ... AI generated code with highlighted comments ...  |  | |
| |  | }                                                         |  | |
| |  |                                                           |  | |
| |                                                                  | |
+----------------------------------------------------------------------+
```

### 2.1. UI Components Breakdown

The components are largely the same as previously planned, but now exist within a dedicated, full-height panel, providing more screen real estate.

1.  **Main Header & Cycle Navigator:**
    *   Unchanged from `A38`. Contains the main title and cycle navigation controls.

2.  **Cycles Context Area (New):**
    *   **Label/Tooltip:** A clear label "Cycles Context" with a tooltip explaining its purpose: "For temporary data like error logs that should only be included in the current cycle's prompt."
    *   **Text Area:** A resizable, multi-line text input field.

3.  **Tab Configuration Bar:**
    *   Unchanged. A slider to control the number of visible tabs.

4.  **Tab Bar:**
    *   Standard tab interface.

5.  **Tab Content Area:**
    *   This area is now the primary focus and will expand to fill the available vertical space.
    *   **Action Bar (New Layout):** A toolbar at the top of the tab content.
        *   **`[Accept Response]`:** A primary button to permanently adopt the code.
        *   **`[Swap with Source]`:** The button for temporary testing.
        *   **`[üëç] [üëé]`:** Thumbs up/down buttons for rating the response.
        *   **`[Add Comment]`:** A button that enables a "commenting mode," allowing the user to highlight a section of code in the editor below and attach a note.
    *   **Source File Display & Metadata Table:** Unchanged. Displays the target file path and compares line/token counts.
    *   **Text Editor:** The main editor area. When comments are added, they could be visualized as highlighted text, with the comment appearing on hover or in a separate pane.

## 3. User Interaction Flow: Annotation

1.  **Evaluate:** The user reviews the AI-generated code in "Tab 1". They decide it's a good approach but has a minor flaw.
2.  **Rate:** They click the **`[üëç]`** button. The button could change color to indicate the positive rating. This rating is saved to the cycle's history.
3.  **Comment:**
    *   The user spots a potential bug on lines 25-28.
    *   They click the **`[Add Comment]`** button.
    *   They highlight lines 25-28 in the tab's text editor.
    *   A small pop-up or input field appears, prompting for their comment.
    *   They type: "This logic fails if the user is not logged in." and save the comment.
    *   **Result:** The text on lines 25-28 is now visually highlighted. Hovering over it reveals the comment. This annotation is saved to the cycle's history, linked to this specific response.