# Artifact A35: DCE - Phase 2 - UI Mockups and Flow
# Date Created: C69
# Author: AI Model
# Updated on: C131 (Add collapsible left pane sections and response tab metadata)

## 1. Overview

This document describes the user interface (UI) and interaction flow for the Parallel Co-Pilot Panel. The design is centered around a two-stage workflow: **Input**, followed by a global **Parse** that transforms the entire panel into a **Review & Act** mode.

## 2. UI Mockup (Textual Description)

### 2.1. Main Header

The main header is a single row containing all primary actions.

```
+-------------------------------------------------------------------------------------------------+
| [Parallel Co-Pilot] [ Gen prompt.md ] [ Parse All ] [ Sort by Longest ] [ Settings ] [ Resp#: [4] ] |
|-------------------------------------------------------------------------------------------------|```

### 2.2. Cycle & Context Section

This section has two states: expanded (default) and collapsed.

```
| [v] Cycle & Context                                                                 |
| |-----------------------------------------------------------------------------------|
| | Cycle: [ < ] [ C98 ] [ > ] [ + ] [ Cycle Title Input: ... ]                        |
| |-----------------------------------------------------------------------------------|
| | [Cycle Context (Permanent notes)]          [Ephemeral Context (Temp logs)]        |
| | +----------------------------------------+ +------------------------------------+ |
| | | Multi-line text area...                | | Multi-line text area...            | |
| | +----------------------------------------+ +------------------------------------+ |
```

### 2.3. Response Tabs

The tab bar displays metadata for each response once parsed.

```
|-------------------------------------------------------------------------------------------------|
| [ Resp 1 (active) | 10 Files | 8.2K Tokens ] [ Resp 2 | 8 Files | 7.5K Tokens ] [ ... ]         |
|-------------------------------------------------------------------------------------------------|
```

### 2.4. Parsed View

The parsed view uses a **resizable two-pane layout**. The left pane provides summary information and navigation, with each section being collapsible.

```
|-------------------------------------------------------------------------------------------------|
| [ Left Pane ]<--->[ Right Pane (Code Viewer) ]                                                 |
| |-------------||------------------------------------------------------------------------------| |
| | [v] ASSOCIATED FILES (Clickable)  | | [ Original: view.scss | 1.1K Tokens ]                            | |
| | |-------------------------------| | +------------------------------------------------------------------+ | |
| | | [✓] src/.../view.tsx (selected)| | | [ Read-only editor with line numbers and syntax highlighting ] | | |
| | | [✗] src/.../new-file.ts [Create]| | |                                                                  | | |
| |                                   | | +------------------------------------------------------------------+ | |
| | [v] THOUGHTS / RESPONSE           | |                                                                    | |
| | | Rendered Markdown...            | |                                                                    | |
| |                                   | |                                                                    | |
| | [v] COURSE OF ACTION              | |                                                                    | |
| | | Rendered Markdown...            | |                                                                    | |
+-------------------------------------------------------------------------------------------------+
```
*   **Collapsible Left Pane (C131):** The "Associated Files", "Thoughts / Response", and "Course of Action" sections are now independently collapsible to save vertical space.
*   **Response Tab Metadata (C131):** After parsing, each tab displays the number of associated files and the total token count of those files.
*   **Sort by Longest (C131):** A new button in the header re-orders the response tabs based on their total token count.
*   **Create File Button (C131):** A "[Create]" button appears on hover for files that do not exist in the workspace.

## 3. User Interaction Flow

1.  **Paste & Parse:** User pastes responses into tabs and clicks "Parse All".
2.  **Sort:** User clicks "Sort by Longest". The tabs are re-ordered, with the one containing the most tokens becoming "Resp 1".
3.  **Select File:** The user clicks on a file in the "Associated Files" list (left pane).
4.  **Display Content:** The right pane updates, showing the syntax-highlighted content of the selected file from that response.
5.  **View Diff:** User clicks the "View Diff" button. The right pane transitions to a side-by-side diff view.