# Artifact A69: DCE - Animated UI Workflow Guide
# Date Created: C169
# Author: AI Model & Curator
# Updated on: C179 (Revise workflow sequence based on Cycle 2 feedback)

## 1. Overview & Goal

The Parallel Co-Pilot Panel (PCPP) has a powerful, multi-step workflow that may not be immediately obvious to new users. The goal of this feature is to implement a guided experience using subtle UI animations. These animations will highlight the next logical action the user should take, gently guiding them through the process from creating a new cycle to accepting a response.

## 2. User Story

| ID | User Story | Acceptance Criteria |
|---|---|---|
| P2-WF-01 | **Guided Workflow** | As a new user, I want the UI to visually guide me through the steps of a development cycle, so I can learn the workflow intuitively. | - After a specific action is completed, the UI element for the next logical action is highlighted with a subtle animation (e.g., a pulsing blue glow). |

## 3. The Animated Workflow Sequence (Cycle 2 Revision)

The highlighting will follow this specific sequence of user actions:

1.  **Start (New Project):** The user opens the PCPP for the first time in a new project.
    *   **Highlight:** The **`Resp 1`** tab pulses (or the main response input area if only one is visible by default).

2.  **Paste Responses:** The user pastes content into the response tabs.
    *   **Highlight:** Once content is present in all available response tabs, the **`Parse All`** button pulses.

3.  **Parse Responses:** The user clicks `Parse All`. The panel enters Parsed Mode.
    *   **Highlight:** If the `Sort` button is not active, the **`Sort`** button pulses.

4.  **Sort and Review:** The user clicks `Sort` (or reviews responses).
    *   **Highlight:** The **`Select This Response`** button pulses.

5.  **Select Response:** The user clicks `Select This Response` for one of the tabs.
    *   **Highlight:** The "Associated Files" list panel and the **`Select All`** button within it pulse.

6.  **Select Files:** The user checks one or more files in the "Associated Files" list.
    *   **Highlight:** The **`Baseline (Commit)`** button pulses.

7.  **Create Baseline:** The user clicks `Baseline (Commit)`.
    *   **Highlight:** The **`Accept Selected`** button pulses.

8.  **Accept Changes:** The user clicks `Accept Selected`. The workflow for this cycle's changes is essentially complete.
    *   **Highlight:** The **"Cycle Context"** text area pulses, prompting the user to start documenting the next cycle.

9.  **Write Context:** The user types into the "Cycle Context" text area.
    *   **Highlight:** The **"Cycle Title"** input field pulses.

10. **Write Title:** The user types into the "Cycle Title" input field.
    *   **Highlight:** The **`Generate prompt.md`** button pulses.

11. **Generate Prompt:** The user clicks `Generate prompt.md`.
    *   **Highlight:** The **`[ + ]` (New Cycle)** button pulses, prompting the user to move to the next cycle.

## 4. Technical Implementation Plan

1.  **CSS Animations (`view.scss`):**
    *   Create a keyframe animation (e.g., `pulsing-glow`) that animates a `box-shadow` or `outline` property.
    *   Create a CSS class (`.workflow-highlight`) that applies this animation.

2.  **State Management (`view.tsx`):**
    *   A state variable will track the current step in the workflow: `const [workflowStep, setWorkflowStep] = useState<string>('start');`.
    *   The state values will correspond to the sequence above (e.g., `'awaitingResponsePaste_1'`, `'awaitingParse'`, `'awaitingBaseline'`, `'awaitingCycleContext'`).

3.  **Conditional Class Application (`view.tsx`):**
    *   Each UI element in the sequence will have its `className` updated to be conditional based on the `workflowStep` state.
    *   Example: `className={`my-button ${workflowStep === 'awaitingParse' ? 'workflow-highlight' : ''}`}`.

4.  **Logic (`useEffect` hooks in `view.tsx`):**
    *   A series of `useEffect` hooks will monitor user actions (pasting content, clicking buttons, typing in fields) to update the `workflowStep` state accordingly.