# Artifact A69: DCE - Animated UI Workflow Guide
# Date Created: C169
# Author: AI Model & Curator

- **Key/Value for A0:**
- **Description:** A plan for a guided user workflow that uses animated UI highlighting to indicate the next logical step in the process.
- **Tags:** feature plan, ui, ux, workflow, animation, guidance

## 1. Overview & Goal

The Parallel Co-Pilot Panel (PCPP) has a powerful, multi-step workflow that may not be immediately obvious to new users. The goal of this feature is to implement a guided experience using subtle UI animations. These animations will highlight the next logical action the user should take, gently guiding them through the process from creating a new cycle to accepting a response.

## 2. User Story

| ID | User Story | Acceptance Criteria |
|---|---|---|
| P2-WF-01 | **Guided Workflow** | As a new user, I want the UI to visually guide me through the steps of a development cycle, so I can learn the workflow intuitively. | - After a specific action is completed, the UI element for the next logical action is highlighted with a subtle animation (e.g., a pulsing blue glow). |

## 3. The Animated Workflow Sequence

The highlighting will follow this specific sequence of user actions:

1.  **Start:** The user has selected a response in a completed cycle (e.g., Cycle 1). The cycle tab is green.
    *   **Highlight:** The **`[ + ]` (New Cycle)** button pulses with a blue glow.

2.  **Action:** The user clicks the `[ + ]` button, creating a new, empty cycle (e.g., Cycle 2).
    *   **Highlight:** The **`Resp 1`** tab pulses.

3.  **Action:** The user pastes content into the `Resp 1` text area.
    *   **Highlight:** The `Resp 1` highlight stops. The **`Resp 2`** tab begins to pulse. This continues sequentially for all available response tabs.

4.  **Action:** The user has pasted content into all available response tabs.
    *   **Highlight:** The **`Parse All`** button pulses.

5.  **Action:** The user clicks `Parse All`. The panel enters Parsed Mode.
    *   **Highlight:** If the `Sort` button is not active, the **`Sort`** button pulses.

6.  **Action:** The user clicks `Sort`.
    *   **Highlight:** The entire response tab bar (or the individual tabs) and the **`Select This Response`** button pulse.

7.  **Action:** The user clicks `Select This Response` for one of the tabs.
    *   **Highlight:** The "Associated Files" list panel and the **`Select All`** button within it pulse.

8.  **Action:** The user checks one or more files in the "Associated Files" list.
    *   **Highlight:** The **`Accept Selected`** button pulses.

9.  **Action:** The user clicks `Accept Selected`. The workflow for this cycle is complete.
    *   **Highlight:** The **`Baseline (Commit)`** button (from A70) pulses.

## 4. Technical Implementation Plan

1.  **CSS Animations (`view.scss`):**
    *   Create a new keyframe animation (e.g., `pulsing-glow`) that animates a `box-shadow` or `outline` property to create a subtle pulsing effect.
    *   Create a CSS class (e.g., `.workflow-highlight`) that applies this animation.

2.  **State Management (`view.tsx`):**
    *   A new state variable will be needed to track the current step in the workflow: `const [workflowStep, setWorkflowStep] = useState<string>('start');`.
    *   The values for this state could be `'start'`, `'awaitingNewCycle'`, `'awaitingResponsePaste'`, `'awaitingParse'`, etc.

3.  **Conditional Class Application (`view.tsx`):**
    *   Each UI element in the sequence will have its `className` updated to be conditional.
    *   Example: `className={\`my-button \${workflowStep === 'awaitingParse' ? 'workflow-highlight' : ''}\`}`.

4.  **Logic (`useEffect` hooks in `view.tsx`):**
    *   A series of `useEffect` hooks will be responsible for updating the `workflowStep` state based on user actions.
    *   `useEffect(() => { ... }, [selectedResponseId])`: If a response is selected, set step to `awaitingNewCycle`.
    *   `useEffect(() => { ... }, [currentCycle])`: If the cycle changes to a new, empty one, set step to `awaitingResponsePaste`.
    *   `useEffect(() => { ... }, [tabs])`: If the last required tab gets content, set step to `awaitingParse`.
    *   This will require careful management to ensure the state transitions correctly.