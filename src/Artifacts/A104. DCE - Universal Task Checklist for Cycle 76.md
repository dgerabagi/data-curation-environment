# Artifact A104: DCE - Universal Task Checklist for Cycle 76
# Date Created: C76
# Author: AI Model & Curator

## 1. Purpose

This
This artifact provides a structured checklist for tracking the development tasks, feedback, and bugs identified in Cycle 76. It organizes the work by logical feature area and the group of files involved in each task to help plan and prioritize development.

---

## Task List for Cycle 76+

## T-1: Fix Critical Workflow Blockers
- **Files Involved:**
    - `src/client/views/parallel-copilot.view/view.tsx`
    - `src/backend/services/history.service.ts`
    - `src/common/ipc/channels.type.ts`
    - `src/client/views/parallel-copilot.view/on-message.ts`
- **Total Tokens:** ~17,000
- **More than one cycle?** No
- **Status:** To Do

- [ ] **Task (T-ID: 1.1):** Fix UI navigation failure. Re-implement the logic where the backend returns `newMaxCycle` and the frontend updates its `maxCycle` state *before* navigating to the new cycle.
- [ ] **Task (T-ID: 1.2):** Allow viewing of completed responses. Modify the render logic in `view.tsx` to show the `ResponsePane` for an active tab if its content is complete, even if the overall cycle `status` is still 'generating'.
- [ ] **Task (T-ID: 1.3):** Fix single-tab regeneration in the main view. The `onRegenerateTab` handler must switch the view back to the `GenerationProgressDisplay` for the regenerating tab.

### Verification Steps
1.  In Demo Mode, start a new project, and generate initial responses.
2.  In Cycle 1, add context and click `Generate responses`.
3.  **Expected:** The UI should automatically navigate to the new Cycle 2 and display the generation progress UI.
4.  While responses are generating, click on a tab for a response that has already completed.
5.  **Expected:** The view should switch from the progress display to the `ResponsePane` for that completed response.
6.  After all responses are complete, select a tab and click the per-tab "Regenerate" button.
7.  **Expected:** The view for that tab should switch back to the progress display to show the new response streaming in.

## T-2: Implement and Refine Response UI Features
- **Files Involved:**
    - `src/backend/services/llm.service.ts`
    - `src/client/views/parallel-copilot.view/components/GenerationProgressDisplay.tsx`
    - `src/client/views/parallel-copilot.view/components/ResponseTabs.tsx`
    - `src/client/views/parallel-copilot.view/view.scss`
    - `src/common/ipc/channels.type.ts`
- **Total Tokens:** ~15,000
- **More than one cycle?** No
- **Status:** To Do

- [ ] **Task (T-ID: 2.1):** Implement individual timers. Add a `startTime` to each `GenerationProgress` object in `llm.service.ts` and render a separate timer for each response in `GenerationProgressDisplay.tsx`.
- [ ] **Task (T-ID: 2.2):** Implement the "Stop" button to cancel the entire batch request by calling `abort()` on the `AbortController` in `llm.service.ts`.
- [ ] **Task (T-ID: 2.3):** Fix the non-animating spinner icon on the response tabs by correcting the CSS in `view.scss`.
- [ ] **Task (T-ID: 2.4):** Fix the bug where regenerating a single response in the progress view clears all other responses from the UI.

### Verification Steps
1.  Start a new generation.
2.  **Expected:** Each response in the progress UI has its own, independently running elapsed timer.
3.  Click the "Stop" button.
4.  **Expected:** The vLLM logs should show the request was cancelled, and the UI should stop updating.
5.  **Expected:** The spinner icon on generating tabs should be actively spinning.

## T-3: Code Quality and Documentation
- **Files Involved:**
    - `src/common/types/pcpp.types.ts`
    - `src/client/views/parallel-copilot.view/view.tsx` (and other components)
    - `src/Artifacts/A105. DCE - PCPP View Refactoring Plan for Cycle 76.md` (New)
    - `src/Artifacts/A106. DCE - vLLM Performance and Quantization Guide.md` (New)
- **Total Tokens:** ~12,000 + New Artifacts
- **More than one cycle?** Yes (Refactoring is a future task)
- **Status:** To Do

- [ ] **Task (T-ID: 3.1):** Consolidate the `TabState` interface. Move the definition to `pcpp.types.ts` and update all components to import it from there.
- [ ] **Task (T-ID: 3.2):** Create the new artifact `A105` detailing the plan to refactor `view.tsx`.
- [ ] **Task (T-ID: 3.3):** Create the new artifact `A106` explaining vLLM performance and quantization.