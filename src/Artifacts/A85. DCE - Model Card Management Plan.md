# Artifact A85: DCE - Model Card Management Plan
# Date Created: C18
# Author: AI Model & Curator
# Updated on: C36 (Refined into a multi-modal connection plan)

- **Key/Value for A0:**
- **Description:** A plan for an enhanced settings panel where users can manage different LLM connection modes, including manual, a pre-configured demo, and user-provided API URLs or keys.
- **Tags:** feature plan, settings, ui, ux, llm, configuration, model management

## 1. Overview & Goal

As the DCE project moves towards direct API integration (Phase 3), users will need a flexible way to manage configurations for different Large Language Models (LLMs). A single placeholder for a local API URL is insufficient.

The goal is to design an enhanced settings panel where users can select from several connection "modes." This will allow users to easily switch between the default manual workflow, a pre-configured "Demo Mode" for local vLLM, and advanced modes for connecting to their own custom endpoints or cloud services. This approach supersedes the original "Model Card" concept with a more user-friendly, mode-based interface.

**For the full, detailed implementation plan, see `A95. DCE - LLM Connection Modes Plan.md`.**

## 2. Connection Modes

### 1. Free Mode (Manual Copy/Paste)
- **Description:** The default behavior of the extension. The user is responsible for generating responses externally and pasting them into the PCPP.
- **UI:** This is the default selection. No additional configuration fields are shown.

### 2. Demo Mode (Local vLLM via `aiascent.game`)
- **Description:** A pre-configured mode for a free, high-performance demo. It's designed to connect to a local vLLM instance that is being proxied through the `aiascent.game` server.
- **UI:** When selected, it displays read-only information about the pre-configured endpoint (`https://aiascent.game/api/dce/proxy`).

### 3. API Mode (URL)
- **Description:** For users who host their own OpenAI-compatible LLM and want to connect to it directly.
- **UI:** When selected, it displays a text input field for the user to enter their API endpoint URL.

### 4. API Mode (KEY)
- **Description:** For users who want to use a cloud-based service that requires an API key (e.g., OpenAI, Anthropic).
- **UI:** When selected, it displays a dropdown to select the provider and a secure input field for the API key.

## 3. High-Level Technical Plan

-   **UI (`settings.view.tsx`):** The settings panel will be redesigned with a radio button group to select the active mode. Conditional rendering will be used to show the appropriate input fields for each mode.
-   **Backend (`SettingsService`):** A new service will be responsible for storing and retrieving these settings. It will use `vscode.workspace.getConfiguration` for non-sensitive data (like the selected mode and URL) and `vscode.SecretStorage` for securely storing API keys.
-   **Backend (`LlmService`):** A new service will be created to handle the actual API calls. It will read the active configuration from the `SettingsService` and construct the appropriate `fetch` request based on the selected mode.